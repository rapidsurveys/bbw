<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The blocked weighted bootstrap (BBW) is an estimation technique for
use with data from two-stage cluster sampled surveys in which either prior
weighting (e.g. population proportional sampling or PPS as
used in Standardized Monitoring and Assessment of Relief and
Transitions or SMART surveys) or posterior weighting (e.g. as used in
Rapid Assessment Method or RAM and Simple Spatial
Sampling Method or S3M surveys)."><title>Blocked Weighted Bootstrap — bbw • bbw</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Blocked Weighted Bootstrap — bbw"><meta property="og:description" content="The blocked weighted bootstrap (BBW) is an estimation technique for
use with data from two-stage cluster sampled surveys in which either prior
weighting (e.g. population proportional sampling or PPS as
used in Standardized Monitoring and Assessment of Relief and
Transitions or SMART surveys) or posterior weighting (e.g. as used in
Rapid Assessment Method or RAM and Simple Spatial
Sampling Method or S3M surveys)."><meta property="og:image" content="https://rapidsurveys.io/bbw/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">bbw</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/bbw.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rapidsurveys/bbw/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Blocked Weighted Bootstrap</h1>
      <small class="dont-index">Source: <a href="https://github.com/rapidsurveys/bbw/blob/HEAD/R/bbw.R" class="external-link"><code>R/bbw.R</code></a></small>
      <div class="d-none name"><code>bbw.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>blocked weighted bootstrap (BBW)</code> is an estimation technique for
use with data from two-stage cluster sampled surveys in which either prior
weighting (e.g. <code>population proportional sampling</code> or <code>PPS</code> as
used in <code>Standardized Monitoring and Assessment of Relief and
Transitions</code> or <code>SMART</code> surveys) or posterior weighting (e.g. as used in
<code>Rapid Assessment Method</code> or <code>RAM</code> and <code>Simple Spatial
Sampling Method</code> or <code>S3M</code> surveys).</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The bootstrap technique is described in this
<a href="https://en.wikipedia.org/wiki/Bootstrapping_(statistics)" class="external-link">article</a>.
The <code>BBW</code> used in <code>RAM</code> and <code>S3M</code> is a modification to the
<code>percentile bootstrap</code> to include <code>blocking</code> and <code>weighting</code> to
account for a complex sample design.</p>
<p>With <code>RAM</code> and <code>S3M</code> surveys, the sample is complex in the sense
that it is an unweighted cluster sample. Data analysis procedures need to
account for the sample design. A <code>blocked weighted bootstrap (BBW)</code>
can be used:</p><dl><dt><code>Blocked</code></dt>
<dd><p>The block corresponds to the primary sampling unit
(\(PSU = cluster\)). <code>PSUs</code> are resampled with replacement.
Observations within the resampled <code>PSUs</code> are also sampled with
replacement.</p></dd>


<dt><code>Weighted</code></dt>
<dd><p><code>RAM</code> and <code>S3M</code> samples do not use
<code>population proportional sampling (PPS)</code> to weight the sample prior to
data collection (e.g. as is done with <code>SMART</code> surveys). This means that
a posterior weighting procedure is required. <code>bbw</code> uses a
<code>"roulette wheel"</code> algorithm to weight (i.e. by population) the
selection probability of <code>PSUs</code> in bootstrap replicates.</p></dd>


</dl><p>In the case of prior weighting by <code>PPS</code> all clusters are given the
same weight. With posterior weighting (as in <code>RAM</code> or <code>S3M</code>)
the weight is the population of each <code>PSU</code>. This procedure is very
similar to the <a href="https://en.wikipedia.org/wiki/Fitness_proportionate_selection" class="external-link">fitness proportionate selection</a>
technique used in evolutionary computing.</p>
<p>A total of \(m\) <code>PSUs</code> are sampled with replacement for each
bootstrap replicate (where \(m\) is the number of <code>PSUs</code> in the survey
sample).</p>
<p>The required statistic is applied to each replicate. The reported estimate
consists of the <code>0.025th (95% LCL)</code>, <code>0.5th (point estimate)</code>, and
<code>0.975th (95% UCL)</code> quantiles of the distribution of the statistic across
all survey replicates.</p>
<p>Early versions of the <code>bbw</code> did not resample observations within
<code>PSUs</code> following:</p>
<p><cite>Cameron AC, Gelbach JB, Miller DL, Bootstrap-based improvements for
inference with clustered errors, Review of Economics and Statistics,
2008:90;414–427 <a href="https://doi.org/10.1162/rest.90.3.414" class="external-link">https://doi.org/10.1162/rest.90.3.414</a></cite></p>
<p>and used a large number (e.g. \(3999\)) survey replicates. Current versions of
the <code>bbw</code> resample observations within <code>PSUs</code> and use a smaller
number of survey replicates (e.g. \(n = 400\)). This is a more computationally
efficient approach</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Useful links:</p><ul><li><p><a href="https://github.com/rapidsurveys/bbw" class="external-link">https://github.com/rapidsurveys/bbw</a></p></li>
<li><p><a href="https://rapidsurveys.io/bbw/">https://rapidsurveys.io/bbw/</a></p></li>
<li><p>Report bugs at <a href="https://github.com/rapidsurveys/bbw/issues" class="external-link">https://github.com/rapidsurveys/bbw/issues</a></p></li>
</ul></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><strong>Maintainer</strong>: Ernest Guevarra <a href="mailto:ernestgmd@gmail.com">ernestgmd@gmail.com</a> (<a href="https://orcid.org/0000-0002-4887-4415" class="external-link">ORCID</a>)</p>
<p>Authors:</p><ul><li><p>Mark Myatt <a href="mailto:mark@brixtonhealth.com">mark@brixtonhealth.com</a></p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mark Myatt, Ernest Guevarra.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

