<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blocked Weighted Bootstrap • bbw</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Blocked Weighted Bootstrap">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bbw</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/bbw.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/validmeasures/bbw">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Blocked Weighted Bootstrap</h1>
                        <h4 class="author">Mark Myatt and Ernest Guevarra</h4>
            
            <h4 class="date">2020-01-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/validmeasures/bbw/blob/master/vignettes/bbw.Rmd"><code>vignettes/bbw.Rmd</code></a></small>
      <div class="hidden name"><code>bbw.Rmd</code></div>

    </div>

    
    
<p>The <code>blocked weighted bootstrap (BBW)</code> is an estimation technique for use with data from two-stage cluster sampled surveys in which either prior weighting (e.g. <em>population-proportional sampling</em> or <em>PPS</em> as used in <strong>Standardized Monitoring and Assessment of Relief and Transiations</strong> or <strong>SMART</strong> surveys) or <em>posterior weighting</em> (e.g. as used in <strong>Rapid Assessment Method</strong> or <strong>RAM</strong> and <strong>Simple Spatial Sampling Method</strong> or <strong>S3M</strong> surveys). The method was developed by Accion Contra la Faim, Brixton Health, Concern Worldwide, Global Alliance for Improved Nutrition, UNICEF Sierra Leone, UNICEF Sudan and Valid International. It has been tested by the Centers for Disease Control (CDC) using infant and young child feeding (IYCF) data.</p>
<p><br></p>
<p>The bootstrap technique is summarised in this <a href="https://en.wikipedia.org/wiki/Bootstrapping_(statistics)">article</a>. The <code>BBW</code> used in <strong>RAM</strong> and <strong>S3M</strong> is a modification to the <code>percentile bootstrap</code> to include <em>blocking</em> and <em>weighing</em> to account for a <em>complex sample design</em>.</p>
<p><br></p>
<p>With <strong>RAM</strong> and <strong>S3M</strong> surveys, the sample is complex in the sense that it is an unweighted cluster sample. Data analysis procedures need to account for the sample design. A <code>blocked weighted bootstrap (BBW)</code> can be used:</p>
<p><br></p>
<p><strong>Blocked</strong>: The block corresponds to the primary sampling unit (<span class="math inline">\(PSU = cluster\)</span>). <em>PSU</em>s are resampled with replacement. Observations within the resampled <em>PSU</em>s are also sampled with replacement.</p>
<p><strong>Weighted</strong>: <strong>RAM</strong> and <strong>S3M</strong> samples do not use <em>population proportional sampling (PPS)</em> to weight the sample prior to data collection (e.g. as is done with <strong>SMART</strong> surveys). This means that a posterior weighting procedure is required. <code>BBW</code> uses a <em>“roulette wheel”</em> algorithm (see <a href="#FIG1">Figure 1</a> below) to weight (i.e. by population) the selection probability of <em>PSU</em>s in bootstrap replicates.</p>
<p><br></p>
<a name="FIG1"></a> <strong>Figure 1:</strong> Roulette wheel algorithm
<p align="center">
<img src="../man/figures/rouletteWheel.png"></p>
<p><br></p>
<p>In the case of prior weighting by <em>PPS</em> all clusters are given the same weight. With posterior weighting (as in <strong>RAM</strong> or <strong>S3M</strong>) the weight is the population of each <em>PSU</em>. This procedure is very similar to the <a href="https://en.wikipedia.org/wiki/Fitness_proportionate_selection">fitness proportional selection</a> technique used in <em>evolutionary computing</em>.</p>
<p><br></p>
<p>A total of <span class="math inline">\(m\)</span>) <em>PSU</em>s are sampled with replacement for each bootstrap replicate (where <span class="math inline">\(m\)</span>) is the number of <em>PSU</em>s in the survey sample).</p>
<p><br></p>
<p>The required statistic is applied to each replicate. The reported estimate consists of the 0.025th (<em>95% LCL</em>), 0.5th (<em>point estimate</em>), and 0.975th (<em>95% UCL</em>) quantiles of the distribution of the statistic across all survey replicates.</p>
<p><br></p>
<p>Early versions of the <code>BBW</code> did not resample observations within <em>PSU</em>s following:</p>
<p><br></p>
<blockquote>
<p>Cameron AC, Gelbach JB, Miller DL, Bootstrap-based improvements for inference with clustered errors, Review of Economics and Statistics, 2008:90;414–427 &lt;doi.org/10.1162/rest.90.3.414&gt;</p>
</blockquote>
<p><br></p>
<p>and used a large number (e.g. <span class="math inline">\(3999\)</span>) survey replicates. Current versions of the <code>BBW</code> resample observations within <em>PSU</em>s and use a smaller number of survey replicates (e.g. <span class="math inline">\(n = 400\)</span>). This is a more computationally efficient approach.</p>
<p><br></p>
<p>The main reason to use <code>BBW</code> is that the bootstrap allows a wider range statistics to be calculated than model-based techniques without resort to grand assumptions about the sampling distribution of the required statistic. A good example for this is the confidence interval on the difference between two medians which might be used for many socio-economic variables. The <code>BBW</code> also allows for a wider range of hypothesis tests to be used with complex sample survey data.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Mark Myatt, Ernest Guevarra.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
