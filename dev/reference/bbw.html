<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Blocked Weighted Bootstrap — bbw • bbw</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Blocked Weighted Bootstrap — bbw"><meta name="description" content="The blocked weighted bootstrap (BBW) is an estimation technique for
use with data from two-stage cluster sampled surveys in which either prior
weighting (e.g. population proportional sampling or PPS as
used in Standardized Monitoring and Assessment of Relief and
Transitions or SMART surveys) or posterior weighting (e.g. as used in
Rapid Assessment Method or RAM and Simple Spatial Sampling Method
or S3M surveys)."><meta property="og:description" content="The blocked weighted bootstrap (BBW) is an estimation technique for
use with data from two-stage cluster sampled surveys in which either prior
weighting (e.g. population proportional sampling or PPS as
used in Standardized Monitoring and Assessment of Relief and
Transitions or SMART surveys) or posterior weighting (e.g. as used in
Rapid Assessment Method or RAM and Simple Spatial Sampling Method
or S3M surveys)."><meta property="og:image" content="https://rapidsurveys.io/bbw/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bbw</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.7.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/bbw.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/bbw-estimation.html">Blocked weighted bootstrap estimation</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://fosstodon.org/@katilingban" aria-label="Mastodon"><span class="fa fab fa-mastodon fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.linkedin.com/company/katilingban" aria-label="LinkedIn"><span class="fa fab fa-linkedin fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rapidsurveys/bbw/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Blocked Weighted Bootstrap</h1>
      <small class="dont-index">Source: <a href="https://github.com/rapidsurveys/bbw/blob/main/R/bbw.R" class="external-link"><code>R/bbw.R</code></a></small>
      <div class="d-none name"><code>bbw.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <strong>blocked weighted bootstrap (BBW)</strong> is an estimation technique for
use with data from two-stage cluster sampled surveys in which either prior
weighting (e.g. <strong>population proportional sampling</strong> or <strong>PPS</strong> as
used in <strong>Standardized Monitoring and Assessment of Relief and
Transitions</strong> or <strong>SMART</strong> surveys) or posterior weighting (e.g. as used in
<strong>Rapid Assessment Method</strong> or <strong>RAM</strong> and <strong>Simple Spatial Sampling Method</strong>
or <strong>S3M</strong> surveys).</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The bootstrap technique is described in this
<a href="https://en.wikipedia.org/wiki/Bootstrapping_(statistics)" class="external-link">article</a>.
The BBW used in RAM and S3M is a modification to the <em>percentile bootstrap</em>
to include <strong>blocking</strong> and <strong>weighting</strong> to account for a complex sample
design.</p>
<p>With RAM and S3M surveys, the sample is complex in the sense that it is an
unweighted cluster sample. Data analysis procedures need to account for the
sample design. A blocked weighted bootstrap (BBW) can be used:</p><ul><li><p><strong>Blocked</strong> - The block corresponds to the primary sampling unit
<code>PSU = cluster</code>. PSUs are resampled with replacement. Observations within the
resampled PSUs are also sampled with replacement.</p></li>
<li><p><strong>Weighted</strong> - RAM and S3M samples do not use population proportional
sampling (PPS) to weight the sample prior to data collection (e.g. as is done
with SMART surveys). This means that a posterior weighting procedure is
required. <code>{bbw}</code> uses a <strong>"roulette wheel"</strong> algorithm to weight (i.e. by
population) the selection probability of PSUs in bootstrap replicates.</p></li>
</ul><p>In the case of prior weighting by PPS all clusters are given the same weight.
With posterior weighting (as in RAM or S3M) the weight is the population of
each PSU. This procedure is very similar to the
<a href="https://en.wikipedia.org/wiki/Fitness_proportionate_selection" class="external-link">fitness proportionate selection</a>
technique used in evolutionary computing.</p>
<p>A total of <code>m</code> PSUs are sampled with replacement for each bootstrap replicate
(where <code>m</code> is the number of PSUs in the survey sample).</p>
<p>The required statistic is applied to each replicate. The reported estimate
consists of the <strong>0.025th (95% LCL)</strong>, <strong>0.5th (point estimate)</strong>, and
<strong>0.975th (95% UCL)</strong> quantiles of the distribution of the statistic across
all survey replicates.</p>
<p>Early versions of the <code>{bbw}</code> package did not resample observations within
PSUs following:</p>
<p><cite>Cameron AC, Gelbach JB, Miller DL, Bootstrap-based improvements for
inference with clustered errors, Review of Economics and Statistics,
2008:90;414–427 <a href="https://doi.org/10.1162/rest.90.3.414" class="external-link">doi:10.1162/rest.90.3.414</a>
</cite></p>
<p>and used a large number (e.g. 3999) survey replicates. Current versions of
the <code>{bbw}</code> package resample observations within PSUs and use a smaller
number of survey replicates (e.g. <code>n = 400</code>). This is a more computationally
efficient approach</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Useful links:</p><ul><li><p><a href="https://github.com/rapidsurveys/bbw" class="external-link">https://github.com/rapidsurveys/bbw</a></p></li>
<li><p><a href="https://rapidsurveys.io/bbw/">https://rapidsurveys.io/bbw/</a></p></li>
<li><p>Report bugs at <a href="https://github.com/rapidsurveys/bbw/issues" class="external-link">https://github.com/rapidsurveys/bbw/issues</a></p></li>
</ul></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><strong>Maintainer</strong>: Ernest Guevarra <a href="mailto:ernestgmd@gmail.com">ernestgmd@gmail.com</a> (<a href="https://orcid.org/0000-0002-4887-4415" class="external-link">ORCID</a>) [copyright holder]</p>
<p>Authors:</p><ul><li><p>Mark Myatt <a href="mailto:mark@brixtonhealth.com">mark@brixtonhealth.com</a> [copyright holder]</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mark Myatt, Ernest Guevarra.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

